---
name: etcd

templates:
  bin/ensure-member-healthy.erb: bin/ensure-member-healthy
  bin/etcdctl.erb: bin/etcdctl
  bin/post-start.erb: bin/post-start
  config/bpm.yml.erb: config/bpm.yml
  config/client-ca.crt.erb: config/client-ca.crt
  config/client.crt.erb: config/client.crt
  config/client.key.erb: config/client.key
  config/server-ca.crt.erb: config/server-ca.crt
  config/server.crt.erb: config/server.crt
  config/server.key.erb: config/server.key

packages:
- etcd

provides:
- name: etcd
  type: etcd

consumes:
- name: etcd
  type: etcd

properties:
  wait_on_member_health:
    description: set to false to skip member health check in post start
    default: true

  tls.etcd.server.ca:
    description: CA for server authentication
  tls.etcd.server.certificate:
    description: Certificate for server authentication
  tls.etcd.server.private_key:
    description: Private key for server authentication
  tls.etcd.client.ca:
    description: CA for client authentication
  tls.etcd.client.certificate:
    description: Certificate for client authentication
  tls.etcd.client.private_key:
    description: Private key for client authentication
